# 热点记忆 - 增强版社会事件追踪应用

一个采用先进算法的自动化社会事件追踪系统，具备智能过滤、多源数据聚合和深度分析能力。

## 🌟 核心特点

### 🤖 智能数据采集
- **多平台聚合**: 同时从微博热搜、百度热搜、知乎热榜、今日头条等平台获取数据
- **智能过滤**: 基于机器学习的内容分类，自动识别社会事件并过滤无关内容
- **去重算法**: 先进的文本相似度算法，避免重复事件记录
- **实时更新**: 每日自动爬取和更新，保持信息时效性

### 🧠 高级事件识别
- **语义分析**: 基于关键词库和语义规则的事件识别
- **实体提取**: 自动识别机构、地点、人物等关键实体
- **重要性评分**: 多维度算法评估事件影响力
- **分类标签**: 自动将事件分类到教育医疗、社会安全等类别

### 📊 数据质量保证
- **内容验证**: 多层过滤机制确保数据质量
- **源头追溯**: 完整记录信息来源，确保可信度
- **时间线重建**: 智能构建事件发展脉络
- **趋势分析**: 动态调整事件重要性和状态

## 🚀 技术架构

### 前端技术栈
- **React 18** + TypeScript - 现代化用户界面
- **Tailwind CSS** - 美观响应式设计  
- **React Router** - 单页应用路由
- **Axios** - HTTP请求处理
- **Date-fns** - 时间格式化

### 后端技术栈
- **Node.js** + Express + TypeScript - 高性能API服务
- **MongoDB** + Mongoose - 灵活的文档数据库
- **Puppeteer** - 动态网页爬取
- **Cheerio** - HTML解析
- **Axios** - HTTP客户端

### 核心算法
- **文本相似度算法** - Levenshtein距离计算
- **关键词提取** - 基于实体识别和规则的提取
- **相关性评分** - 多因子加权评分模型
- **去重机制** - 标题匹配 + 关键词匹配 + 语义相似度

## 📁 项目结构

```
hotgone/
├── frontend/                 # React前端应用
│   ├── src/
│   │   ├── components/       # 可复用组件
│   │   ├── pages/           # 页面组件
│   │   ├── types/           # TypeScript类型定义
│   │   └── ...
│   └── package.json
├── backend/                  # Node.js后端服务
│   ├── src/
│   │   ├── models/          # 数据模型
│   │   ├── routes/          # API路由
│   │   ├── services/        # 业务逻辑层
│   │   │   ├── crawler.ts   # 增强爬虫服务
│   │   │   ├── aggregation.ts # 数据聚合服务
│   │   │   └── updater.ts   # 事件更新服务
│   │   ├── scripts/         # 工具脚本
│   │   └── server.ts        # 服务入口
│   └── package.json
├── vercel.json              # Vercel部署配置
└── README.md                # 项目文档
```

## 🎯 主要功能

### 1. 智能事件发现
- 自动从多个热门平台爬取数据
- 基于150+关键词的社会事件识别
- 实时过滤娱乐、体育、商业广告等无关内容
- 智能评估事件社会影响力

### 2. 事件生命周期管理
- **起因追踪**: 记录事件首次曝光
- **进展更新**: 自动追踪事件发展
- **结果归档**: 智能判断事件结束状态
- **趋势分析**: 分析事件热度变化

### 3. 高级搜索功能
- 多维度搜索：标题、描述、关键词、分类
- 智能排序：相关性 + 重要性综合评分
- 实时搜索建议和结果高亮
- 支持模糊匹配和语义搜索

### 4. 数据可视化
- 事件时间线可视化展示
- 分类统计和趋势图表
- 重要性指标和热度分析
- 来源追溯和可信度评估

## 🛠 本地开发

### 环境要求
- Node.js 18+
- MongoDB (本地或Atlas)
- 现代浏览器

### 快速开始

1. **克隆项目**
```bash
git clone <repository-url>
cd hotgone
```

2. **安装依赖**
```bash
npm run install:all
```

3. **配置环境**
```bash
cp backend/.env.example backend/.env
# 编辑 .env 文件，配置 MongoDB 连接
```

4. **启动开发环境**
```bash
npm run dev  # 同时启动前端和后端
```

5. **访问应用**
- 前端: http://localhost:5173
- 后端API: http://localhost:3001

### 手动运行爬虫测试
```bash
cd backend
npm run crawler
```

## 🚀 部署指南

### Vercel部署
1. 推送代码到GitHub
2. 在Vercel导入项目
3. 配置环境变量：
   - `MONGODB_URI`: MongoDB连接字符串
4. 自动部署完成

### 环境变量配置
```env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/hotgone
PORT=3001
NODE_ENV=production
```

## 📖 API文档

### 事件相关接口
```bash
GET /api/events                    # 获取事件列表
GET /api/events/:id                # 获取事件详情  
GET /api/events/search?q=keyword   # 搜索事件
POST /api/events                   # 创建事件
PUT /api/events/:id                # 更新事件
POST /api/events/:id/timeline      # 添加时间线
```

### 系统接口
```bash
GET /api/health                    # 健康检查
GET /api/cron/crawl               # 手动触发爬虫
```

## 🔍 数据来源

### 主要平台
- **微博热搜**: 实时社会热点
- **百度热搜**: 综合搜索热点
- **知乎热榜**: 深度讨论话题
- **今日头条**: 新闻资讯
- **第三方新闻API**: 权威媒体报道

### 数据处理流程
1. **数据采集**: 并行爬取多个平台
2. **内容过滤**: 基于关键词和规则过滤
3. **质量评估**: 多维度评分排序
4. **去重合并**: 智能识别相似内容
5. **分类标记**: 自动分类和标签
6. **存储更新**: 入库并更新时间线

## 🧪 测试示例

### 搜索功能测试
```bash
curl "http://localhost:3001/api/events/search?q=协和"
curl "http://localhost:3001/api/events/search?q=地铁"
curl "http://localhost:3001/api/events/search?q=教育"
```

### 事件数据示例
项目内置高质量示例数据：
- 协和医院4+4医学教育改革争议
- 成都地铁偷拍事件
- 武汉大学杨景媛事件

## ⚡ 性能优化

- **并行爬取**: 多数据源同时获取，提升效率
- **智能缓存**: 减少重复请求
- **数据压缩**: 优化传输和存储
- **索引优化**: MongoDB全文搜索索引
- **错误重试**: 容错机制保证稳定性

## 🔒 安全特性

- **数据验证**: 严格的输入验证和过滤
- **访问控制**: API限流和身份验证
- **隐私保护**: 敏感信息脱敏处理
- **日志审计**: 完整的操作日志记录

## 📈 监控统计

- **爬取效率**: 数据获取成功率统计
- **事件质量**: 识别准确率分析
- **用户行为**: 搜索和访问模式
- **系统性能**: 响应时间和资源使用

## 🤝 贡献指南

1. Fork项目
2. 创建特性分支
3. 提交更改
4. 发起Pull Request

## 📄 许可证

MIT License

## 🔮 未来规划

- [ ] 接入更多数据源
- [ ] 增加情感分析功能
- [ ] 实现事件关联性分析
- [ ] 开发移动端应用
- [ ] 添加用户订阅功能
- [ ] 集成AI内容生成"# hotgone" 
"# hotgone" 
